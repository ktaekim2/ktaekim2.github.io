---
layout: single
title: "29일차 배운 내용 정리-Java(12)-"
---

<img src="..\assets\images\Untitled-2022-04-27-0911.svg">

**모든 class는 data type이 될 수 있다.(=저장을 할 수 있다)**

<img src="..\assets\images\Untitled-2022-04-27-0908.svg">

#### 클래스 기본세트
- 필드(private)
- 생성자(기본, 모든필드를 매개변수로 하는)
- 모든 필드에 대한 getter/setter
- toString

## 클래스 구조
### XxxMain Class
- 해당 프로그램의 시작
- 다른 클래스를 제어
- backend에서는 XxxController로 함

### XxxDTO Class
- DTO(Data Transfer Object)
- 객체정보를 담기위한 클래스
- 보통 필드, 생성자, getter/setter, toString을 갖고 있음.

### XxxService Class
- 기능 처리를 위한 클래스(Business Class라고도 함)
- 회원이라면 회원가입, 로그인, 목록출력 등을 여기서 담당

### XxxRepository Class
- XxxDAO Class라고도 함
- DB와 연동을 하는 클래스
- 자바에서는 이 클래스를 DB처럼 사용하고자 함

### 흐름
- 저장  
    - Main -> Service -> Repository
- 조회
    - Main에서 요청 -> Service -> Repository -> Service -> Main
- DTO = DB table
- DTO field = DB column

## 실습

### PhoneMain
<details>
<summary>
PhoneMain
</summary>
<div markdown="1">

```java
public static void main(String[] args) {

    // 새로운 phone 등록 => List에 저장(List는 Repository가 가지고 있음)
    PhoneDTO phone1 = new PhoneDTO(1L, "아이폰", "123-123", 1000000);

    // Service 클래스에 phone1 객체를 넘기기 위해 Service 객체를 만들고
    PhoneService phoneService = new PhoneService();

    // Service 클래스가 가지고 있는 save 메서드 호출
    phoneService.save(phone1);
    
    // list에 담긴 전체 데이터 조회
    phoneService.findAll();

}
```
</div>
</details>

### PhoneDTO
<details>
<summary>
PhoneDTO
</summary>
<div markdown="1">

```java
public class PhoneDTO {
	private Long id;
	private String modelName;
	private String modelNumber;
	private int price;

	// 기본생성자
	PhoneDTO() {

	}

	// 매개변수 있는 생성자
	public PhoneDTO(Long id, String modelName, String modelNumber, int price) {
		super();
		this.id = id;
		this.modelName = modelName;
		this.modelNumber = modelNumber;
		this.price = price;
	}

	// getter/setter
	public Long getId() {
		return id;
	}

	public void setId(Long id) {
		this.id = id;
	}

	public String getModelName() {
		return modelName;
	}

	public void setModelName(String modelName) {
		this.modelName = modelName;
	}

	public String getModelNumber() {
		return modelNumber;
	}

	public void setModelNumber(String modelNumber) {
		this.modelNumber = modelNumber;
	}

	public int getPrice() {
		return price;
	}

	public void setPrice(int price) {
		this.price = price;
	}
	
	// toString
	@Override
	public String toString() {
		return "PhoneDTO [id=" + id + ", modelName=" + modelName + ", modelNumber=" + modelNumber + ", price=" + price
				+ "]";
	}
}
```
</div>
</details>

### PhoneService
<details>
<summary>
PhoneService
</summary>
<div markdown="1">

```java
public class PhoneService {

	void save(PhoneDTO phone) {
		System.out.println("PhoneService.save()");
		System.out.println(phone);

		// phone 객체를 Repository의 save 메서드로 넘겨서 잘 넘어갔는지 확인
		PhoneRepository phoneRepository = new PhoneRepository();
		phoneRepository.save(phone);

	}

	void findAll() {
		System.out.println("PhoneService.findAll()");
		PhoneRepository phoneRepository = new PhoneRepository();

		// Repository에서 목록을 출력
		phoneRepository.findAll();

		// Repository에서 리스트를 가져와서 여기서 출력
		List<PhoneDTO> phoneList = phoneRepository.findAll1();
		for (PhoneDTO p : phoneList) {
			System.out.println("PhoneService.findAll() for문");
			System.out.println(p);
		}
	}
}
```
</div>
</details>

### PhoneRepository
<details>
<summary>
PhoneRepository
</summary>
<div markdown="1">

```java
public class PhoneRepository {

	static List<PhoneDTO> phoneList = new ArrayList<>();

	void save(PhoneDTO phone) {
		System.out.println("PhoneRepository.save()");
		System.out.println(phone);
		phoneList.add(phone);
	}

	void findAll() {
		System.out.println("PhoneRepository.findAll()");
		for (PhoneDTO p : phoneList) {
			System.out.println(p);
		}
	}

	List<PhoneDTO> findAll1() {
		return phoneList;
	}
}

```
</div>
</details>

<img src="..\assets\images\Untitled-2022-04-27-1021.svg">


