---
layout: single
title: "43일차 배운 내용 정리-Spring Framework(3)"
---

## 새로운 프로젝트 생성
 1. Project Name: spring20220518_01
 2. package: com.its.people
 3. 기본페이지(/): index.jsp
     1. 링크가 있음
         1. 링크클릭시 /save-form 주소를 요청함. 
 4. save-form.jsp
     1. input 태그 2개 존재함. 
         1. 각각 name은 name, age
     2. 전송 버튼 클릭시 /save 주소로 name, age를 보냄 (post 방식)
 5. PeopleController의 /save 주소처리 메서드 
     1. name, age를 받아서 PeopleService의 save 메서드로 보냄 
 6. PeopleService의 save 메서드 
     1. name, age를 받아서 PeopleRepository 의 save 메서드로 보냄 
 7. PeopleRepository 의 save 메서드 
     1. peopleMapper의 save를 호출하면서 name만 넘김 
 8. peopleMapper.xml
     1. save 라는 id를 가진 insert 태그가 있으며, PeopleRepository로 부터 넘겨 받은 name을 받아서 people 테이블의 name 컬럼에 저장함. 
 9. DB에는 people 이라는 테이블을 만들고 이 테이블에는 name(varchar), age(int)라는 컬럼이 있음.

### intellij에서 db활용
<img src="..\assets\images\2022-05-18-1110.excalidraw.svg">

### 여러 parameter 넘기기-DTO 활용
<img src="..\assets\images\2022-05-18-1111.excalidraw.svg">

>DTO의 필드이름 = DB의 컬럼이름 = 태그의 name 이름

### PeopleController.java
```java
@PostMapping("/save1")
public String save1(@RequestParam("name") String name, @RequestParam("age") int age) {
    PeopleDTO peopleDTO = new PeopleDTO();
    peopleDTO.setName(name);
    peopleDTO.setAge(age);
    peopleService.save1(peopleDTO);
    return null;
}
```

### ModelAttribute
```java
@PostMapping("/save2")
public String save2(@ModelAttribute PeopleDTO peopleDTO) {
    System.out.println("peopleDTO = " + peopleDTO);
    peopleService.save2(peopleDTO);
    return null;
}
```
> ModelAttribute annotation이 name이 똑같으면 스프링이 알아서 필드값 넣어줌.
>```
>PeopleDTO peopleDTO = new PeopleDTO();
>peopleDTO.setName(name);  
>peopleDTO.setAge(age);  
>```
>위 코드 부분이 생략 가능함.

### parameterType 짧게 쓰기
<img src="..\assets\images\2022-05-18-1255.excalidraw.svg">